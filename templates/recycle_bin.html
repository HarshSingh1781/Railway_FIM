<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Recycle Bin</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <div class="container mt-5">
    <h2>üóëÔ∏è Recycle Bin</h2>
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}
    <table class="table table-bordered mt-4">
      <thead>
        <tr>
          <th>File Name</th>
          <th>File Code</th>
          <th>Tags</th>
          <th>Cabinet</th>
          <th>Shelf</th>
          <th>Box</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% if files|length == 0 %}
        <tr>
          <td colspan="7" class="text-center">No files in Recycle Bin.</td>
        </tr>
        {% endif %}
        {% for file in files %}
        <tr>
          <td>{{ file[1] }}</td>
          <td>{{ file[2] }}</td>
          <td>{{ file[3] }}</td>
          <td>{{ file[4] }}</td>
          <td>{{ file[5] }}</td>
          <td>{{ file[6] }}</td>
          <td>
            <a href="/restore/{{ file[2] }}" class="btn btn-success btn-sm">Restore</a>
            <a href="/permanent_delete/{{ file[2] }}" class="btn btn-danger btn-sm" onclick="return confirm('Are you sure? This cannot be undone!')">Delete Permanently</a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    <a href="/search" class="btn btn-outline-primary">‚¨ÖÔ∏è Back to Search</a>
    <a href="/" class="btn btn-outline-secondary ms-2">üè† Home</a>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
